# node基础

## 一.node是什么?
Node.js是一个基于chrome v8引擎的Javascript运行环境(runtime)，Node不是一门语言，是js在后端的运行时，并且不包括js全集，因为在服务端中不包括BOM和DOM,Node也提供了一些新的模块，比如http,fs等模块。
Node.js使用了事件驱动（事件驱动可以理解为异步），非阻塞式I/O的模型，使其轻量又高效。

## 二。Node解决了哪些问题？
1. Node.js解决了高并发问题（通过异步事件机制）。
所谓的高并发是指在同一时间内并访问服务器。
在传统的java等开发语言中，都使用多线程，也就是说在线程池中放入多个线程，比如10个，如果同时来了10个请求，那么就需要10个线程进行处理，但是如果有更多的请求那就需要等其他线程执行完毕，或者在线程池中开辟更多的线程，这就是多线程带来的问题。
像node.js使用的是单线程，只有一个主线程，有一个请求来了，异步地去进行处理，主线程继续执行其他的，等待处理完毕了，通过事件的机制告诉主线程即可。不会带来阻塞问题。

2. Node.js适合于I/O密集型，比如文件操作，网络操作，数据库操作。相对地有cpu密集，cpu密集指的是逻辑运算，压缩，解压，加密，解密等。
由于node.js的异步和事件机制，因此对于一些文件操作，比如文件读写，可以通过异步地方式完成，然后通过回调返回结果即可。但是对于cpu密集型的，需要大量计算处理的，如果它的其中一个任务占据了cpu，虽然那个任务在异步地执行，但是它占据了很多cpu，导致其他任务分配不到资源，无法执行，最终其他任务队列的任务都不响应了。

## 三.Node是单线程的
node是基于js的，而js是单线程的，因此node也是单线程的。单线程的特点是：
1. 节约了内存(不需要开辟很多线程去处理请求)，并且不需要切换执行上下文(不需要进行线程切换)
比如一个文件需要a,b,c进行处理，可能a处理一会，保存上下文，然后交给b处理，b处理一会保存上下文交给c处理。这种上下文保存或者线程切换，在单线程中不需要进行考虑。
2. 单线程不需要管锁的问题
多线程的锁的问题：当多个线程同时对某一个文件进行处理时，为了避免冲突会进行加锁，比如a处理时那么就加锁，处理完毕之后才释放，b进行处理也加锁，处理完毕释放，主要是为了避免冲突。而单线程只有一个线程，不需要这种冲突，因此不需要管锁的问题。

## 四.同步异步和阻塞和非阻塞
**阻塞和非阻塞**：针对的是调用方的状态，比如我调用了一个方法之后我是继续往下执行了还是需要在此等待，如果是继续往下执行那么就是非阻塞的，如果需要等待，那么就是阻塞的。
**同步和异步**：针对地是被调用方，也就是刚刚那个方法，这个方法它是同步地还是异步地，是一开始就确定好的。

**异步非阻塞**：表示调用地方法或者执行的任务是异步地，我不需要等待这个方法执行完毕。


## 五.Node中的Event Loop
